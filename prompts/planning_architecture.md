# Architecture Document Template

> **⚠️ Legacy Document**
>
> 이 프롬프트 파일은 초기 버전(v0.1.0)에서 사용되었습니다.
> 현재 시스템은 `src/agentic_orchestrator/debate/protocol.py`에 내장된 프롬프트를 사용합니다.
> 이 파일은 참조용으로만 유지됩니다.

---

Based on the PRD, create a technical architecture document.

## Document Structure

# Architecture Document: [Project Name]

## 1. System Overview

### 1.1 High-Level Architecture

```
┌─────────────────────────────────────────────────────────┐
│                     [System Name]                        │
├─────────────────────────────────────────────────────────┤
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐ │
│  │   Frontend  │ ←→ │   Backend   │ ←→ │  Blockchain │ │
│  └─────────────┘    └─────────────┘    └─────────────┘ │
│         ↑                  ↑                  ↑         │
│         └──────────────────┴──────────────────┘         │
│                     External Services                    │
└─────────────────────────────────────────────────────────┘
```

### 1.2 System Description
Brief description of the overall system architecture.

## 2. Architecture Principles

| Principle | Description | Rationale |
|-----------|-------------|-----------|
| Simplicity | Keep it simple | MVP focus |
| Modularity | Loosely coupled components | Maintainability |
| Security | Security by design | Web3 requirements |

## 3. Component Architecture

### 3.1 Frontend

**Technology**: [React/Vue/etc.]

```
frontend/
├── components/
│   ├── common/
│   └── features/
├── pages/
├── hooks/
├── services/
└── utils/
```

**Key Components**:
- Component 1: Purpose
- Component 2: Purpose

### 3.2 Backend

**Technology**: [Node.js/Python/etc.]

```
backend/
├── api/
│   ├── routes/
│   └── controllers/
├── services/
├── models/
└── utils/
```

**Key Services**:
- Service 1: Purpose
- Service 2: Purpose

### 3.3 Smart Contracts (if applicable)

**Platform**: [Ethereum/Polygon/etc.]

```solidity
// Contract structure
contract MainContract {
    // State variables
    // Functions
    // Events
}
```

**Contracts**:
- Contract 1: Purpose
- Contract 2: Purpose

### 3.4 Database

**Technology**: [PostgreSQL/MongoDB/etc.]

**Data Model**:

```
Entity1
├── id: UUID
├── field1: String
└── field2: Number

Entity2
├── id: UUID
└── entity1_id: FK
```

## 4. Integration Architecture

### 4.1 External APIs

| API | Purpose | Authentication |
|-----|---------|----------------|
| ... | ... | ... |

### 4.2 Mossland Integration

- MOC Token: Integration method
- Other services: Integration points

### 4.3 Third-Party Services

| Service | Purpose | Fallback |
|---------|---------|----------|
| ... | ... | ... |

## 5. Security Architecture

### 5.1 Authentication
- Method: [JWT/OAuth/Wallet]
- Flow description

### 5.2 Authorization
- Role-based access control
- Permission model

### 5.3 Data Protection
- Encryption at rest
- Encryption in transit
- Sensitive data handling

### 5.4 Smart Contract Security
- Audit considerations
- Common vulnerability prevention

## 6. Deployment Architecture

### 6.1 Infrastructure

```
[Cloud Provider]
├── [Region]
│   ├── Frontend (CDN/Static)
│   ├── Backend (Container/Serverless)
│   └── Database (Managed)
└── Blockchain (Mainnet/Testnet)
```

### 6.2 CI/CD Pipeline

```
Code → Build → Test → Deploy (Staging) → Deploy (Production)
```

### 6.3 Environment Strategy

| Environment | Purpose | URL Pattern |
|-------------|---------|-------------|
| Development | Local dev | localhost |
| Staging | Testing | staging.* |
| Production | Live | prod.* |

## 7. Technology Stack

| Layer | Technology | Version | Justification |
|-------|------------|---------|---------------|
| Frontend | ... | ... | ... |
| Backend | ... | ... | ... |
| Database | ... | ... | ... |
| Blockchain | ... | ... | ... |

## 8. API Design

### 8.1 REST Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | /api/v1/resource | List resources |
| POST | /api/v1/resource | Create resource |
| ... | ... | ... |

### 8.2 Request/Response Format

```json
{
  "success": true,
  "data": {},
  "error": null
}
```

## 9. Data Flow

### 9.1 Primary User Flow

```
User Action → Frontend → API → Service → Database
                                  ↓
                            Blockchain (if needed)
```

### 9.2 Event Flow

```
Event Trigger → Handler → Processing → Notification
```

## 10. Scalability Considerations

### 10.1 Horizontal Scaling
- Stateless services
- Load balancing strategy

### 10.2 Vertical Scaling
- Resource limits
- Upgrade path

### 10.3 Caching Strategy
- Cache locations
- Invalidation policy

## 11. Monitoring and Observability

- Logging: [Tool/Strategy]
- Metrics: [Tool/Strategy]
- Alerting: [Tool/Strategy]

---

*Document Version: 1.0*
*Generated by: Agentic Orchestrator*
